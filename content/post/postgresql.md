---
title: "postgresql"
date: 2021-07-24T14:58:20+08:00
draft: false
tags: ["sql"]
isCJKLanguage: true
categories: ["sql"]
---
```plsql 
SELECT left ( 'C01-01-01', length('C01-01-01') -  POSITION ( '-' IN  reverse('C01-01-01') ))  取C01-01
```



```sql
索引:
普通索引  即一个索引只包含单个列，一个表可以有多个单列索引
唯一索引：索引列的值必须唯一，但允许有空值
复合索引：多列值组成一个索引，专门用于组合搜索，其效率大于索引合并
聚簇索引(聚集索引)：并不是一种单独的索引类型，而是一种数据存储方式。具体细节取决于不同的实现，InnoDB的聚簇索引其实就是在同一个结构中保存了B-Tree索引(技术上来说是B+Tree)和数据行。
非聚簇索引：不是聚簇索引，就是非聚簇索引

联合索引  最左原则
创建 abc 三列的 索引 如果 a=? and b=? and c=? 不管abc 条件判断属性怎么放  都会索引abc 三列
如果 a=? and b<? and c=? 只会索引ab 两列

最左匹配原则
联合索引(A,B,C)，最左优先，以最左边的为起点任何连续的索引都能匹配上。
1）遇到范围查询(>、<、between、like)就会停止匹配。
2）因为Mysql中有查询优化器，会自动优化查询顺序，因此A,B,C顺序调换不影响查询结果。
3）没有从最左边开始，最后查询没有用到索引，用的是全表扫描


创建索引是为了更高效的  查询数据
```



